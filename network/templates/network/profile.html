{% extends "network/layout.html" %}

{% block body %}
<div
    style="background-image: url('https://www.teahub.io/photos/full/187-1878181_hawaii-beach-pictures-wallpapers-backgrounds-for-pc-4k.jpg');background-size:cover;background-position:center; height:200px; ;padding-top:123px;">
    <img src="{{user.user_profile.profile_pic.url}}"
        style="margin-left: 5%; height:130px;width: 130px; border-radius: 50%; border: 4px solid #ffffff;"
        alt="Profile Pic of {{user.username}}" title="{{user.username}}">
</div>

<div class="user-details" style="margin-left: 5%; margin-top: 55px;float: left;">
    <div id="name-and-username">
        <h4>{{user.username}}</h4>
        <h5 class="text-muted">@{{user.username}}</h5>
    </div>
    <div class="status">
        Head Of Music: UPPERROOM RECORDS
    </div>
    <p class="text-muted fa" style="margin-top: 12px;"><i class="fa fa-calendar"></i> Joined June 2020</p>
    <div id="follow-details">
        <h6 style="text-align:left;float:left;margin-right: 10px;"> <span id="followers">{{followers}}</span> <span
                class="text-muted">Followers</span></h6>
        <h6 style="float:left;">{{following}} <span class="text-muted">Following</span> </h6>
    </div>
</div>

{% if request.user.username != username and user.is_authenticated %}
<div class="follow-unfollow" style="float: right;margin-top: 20px;">
    <form action="{% url 'follow_unfollow' %}" method="post">
        {% csrf_token %}
        <input type="text" value="{{user.username}}" hidden name="username">
        <button class="btn btn-outline-{{follow_button_style}}" name="follow_unfollow_button"
            value="{{follow_button_text}}" type="submit" id="follow-button"
            style="border-radius: 5px 23px;">{{follow_button_text}}</button>
    </form>
</div>
{% endif %}

<hr style="margin-top: 28%;border: 2px solid black;">

<div class="my-posts">
    {% for post in posts %}
    <div class="card">
        <div class="card-header">

            <strong>@{{post.posted_by.username}}</strong>
        </div>
        <div class="card-body">
            <p>
                {{post.description}}
            </p>
        </div>
        <div class="card-footer text-muted">
            {{post.posted_on}}
        </div>
        {% empty %}
        <div class="text-center">
            <h3>You haven't Dweeted yet</h3>
            <p class="text-muted">When you post a Dweet, it'll show up here.</p>
            <form action="{% url 'index' %}">
                <button type="submit" style="border-radius: 5px 23px;" class="btn btn-outline-info">
                    Dweet Now
                </button>
            </form>
        </div>
        {% endfor %}
    </div>
    {% endblock %}
</div>